io:
  type: csv
  path: data/exemple-data/tickets_jira.csv # change to your input CSV
  text_field: description      # column containing the feedback text
  id_field: null
  # Option A: fichier direct (héritage)
  output_path: data/output/categorized.csv
  # Option B: dossier de sortie + sous-dossier horodaté (recommandé)
  output_dir: data/output
  output_basename: categorized.csv
  timestamp_subdir: false
  add_timestamp_column: false            # add a UTC ISO-8601 column
  timestamp_column_name: processed_at    # name of the timestamp column
  append_timestamp_to_output_path: false # e.g., categorized_20250101-120000.csv (Option A)
  timestamp_format: "%Y%m%d-%H%M%S"      # used for filename suffix
  write_summary: false                   # write counts recap to JSON
  summary_path: null                     # explicit path; sinon dérivé
  summary_basename: null                 # si output_dir: nom du JSON (sinon <stem>_summary.json)

llm:
  mode: api            # api | local
  model: gpt-4.1       # ou modèle local
  base_url: https://api.openai.com/v1
  api_key_env: OPENAI_API_KEY
  strict_json: true
  json_mode: false
  http_timeout: 60
  max_tokens: null
  max_retries: 1
  retry_invalid_json: true

embedding:
  provider: local
  local_model: paraphrase-multilingual-MiniLM-L12-v2
  openai_model: null

clustering:
  category_threshold: 0.2
  subcategory_threshold: 0.2

batch_size: 1
limit: 3  # default: all rows; set to an integer (e.g., 1000) to sample
workers: 1   # parallel LLM calls (>=1)

field_names:
  category: Category
  subcategory: Sub Category
  sentiment: Sentiment
  keywords: Keywords
  # Pour désactiver la colonne texte des mots-clés (plain text), laissez à null
  keywords_text: null

keywords:
  single_words_only: true
  enforce_in_text: true
  drop_generic: true
  min_length: 2
